<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Raw data parsers • PvSTATEM</title>
<script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Raw data parsers">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PvSTATEM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/example_script.html">Basic PvSTATEM functionalities</a></li>
    <li><a class="dropdown-item" href="../articles/our_datasets.html">Our datasets</a></li>
    <li><a class="dropdown-item" href="../articles/our_plots.html">Introduction to plots created by our package</a></li>
    <li><a class="dropdown-item" href="../articles/our_reports.html">Overview of reports generated by PvSTATEM package</a></li>
    <li><a class="dropdown-item" href="../articles/parsers.html">Raw data parsers</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mini-pw/PvSTATEM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch">
<li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul>
</li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Raw data parsers</h1>
                        <h4 data-toc-skip class="author">Jakub
Grzywaczewski</h4>
            
            <h4 data-toc-skip class="date">2025-01-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/mini-pw/PvSTATEM/blob/v0.2.0/vignettes/parsers.Rmd" class="external-link"><code>vignettes/parsers.Rmd</code></a></small>
      <div class="d-none name"><code>parsers.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Our package primarily aims to read, perform quality control, and
normalise raw MBA data. The entire package is made to be as
user-friendly as possible, so in most of your code, you will read the
data from xPONENT or INTELLIFLEX file using the
<code>read_luminex_data</code> function and interacting with the created
<code>Plate</code> object.</p>
<p>Under the hood, the <code>read_luminex_data</code> function uses a
specific function to read data from a given format and later
standardises this output to finally create a <code>Plate</code>
object.</p>
<p>This article will go deeper into the details of our data parsers,
illustrate how the reading system works and show you how to use them
even outside the PvSTATEM package.</p>
</div>
<div class="section level2">
<h2 id="basic-data-loading">Basic data loading<a class="anchor" aria-label="anchor" href="#basic-data-loading"></a>
</h2>
<p>The simplest way of loading a file is to use the
<code>read_luminex_data</code> function with default values.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mini-pw/PvSTATEM" class="external-link">PvSTATEM</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">plate_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"CovidOISExPONTENT.csv"</span>, package <span class="op">=</span> <span class="st">"PvSTATEM"</span>, mustWork <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">layout_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"CovidOISExPONTENT_layout.xlsx"</span>, package <span class="op">=</span> <span class="st">"PvSTATEM"</span>, mustWork <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">plate</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_luminex_data.html">read_luminex_data</a></span><span class="op">(</span><span class="va">plate_filepath</span>, <span class="va">layout_filepath</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Reading Luminex data from: /home/runner/work/_temp/Library/PvSTATEM/extdata/CovidOISExPONTENT.csv</span></span>
<span><span class="co">#&gt; using format xPONENT</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; New plate object has been created with name: CovidOISExPONTENT!</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span></span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">plate</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Summary of the plate with name 'CovidOISExPONTENT':</span></span>
<span><span class="co">#&gt; Plate examination date: 2022-05-11 16:45:00</span></span>
<span><span class="co">#&gt; Total number of samples: 96</span></span>
<span><span class="co">#&gt; Number of blank samples: 1</span></span>
<span><span class="co">#&gt; Number of standard curve samples: 11</span></span>
<span><span class="co">#&gt; Number of positive control samples: 0</span></span>
<span><span class="co">#&gt; Number of negative control samples: 0</span></span>
<span><span class="co">#&gt; Number of test samples: 84</span></span>
<span><span class="co">#&gt; Number of analytes: 30</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># display a sample of the dataframe</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">plate</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   Spike_6P   ME</span></span>
<span><span class="co">#&gt; 1       24   33</span></span>
<span><span class="co">#&gt; 2    14256 1263</span></span></code></pre>
<p>The function has many parameters that can be used to customise the
reading process.</p>
<p>For example, we can change the data type we want to find in the file.
By default, the datatype we are looking for is the Median MFI value.
This default value can be changed, e.g. for the Mean value, as
illustrated below. In this way, we provide more flexibility to the
user.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">plate</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_luminex_data.html">read_luminex_data</a></span><span class="op">(</span><span class="va">plate_filepath</span>, <span class="va">layout_filepath</span>, default_data_type <span class="op">=</span> <span class="st">"Mean"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Reading Luminex data from: /home/runner/work/_temp/Library/PvSTATEM/extdata/CovidOISExPONTENT.csv</span></span>
<span><span class="co">#&gt; using format xPONENT</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; New plate object has been created with name: CovidOISExPONTENT!</span></span></span>
<span><span class="co"><span style="color: #00BB00;">#&gt; </span></span></span></code></pre>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">plate</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; Summary of the plate with name 'CovidOISExPONTENT':</span></span>
<span><span class="co">#&gt; Plate examination date: 2022-05-11 16:45:00</span></span>
<span><span class="co">#&gt; Total number of samples: 96</span></span>
<span><span class="co">#&gt; Number of blank samples: 1</span></span>
<span><span class="co">#&gt; Number of standard curve samples: 11</span></span>
<span><span class="co">#&gt; Number of positive control samples: 0</span></span>
<span><span class="co">#&gt; Number of negative control samples: 0</span></span>
<span><span class="co">#&gt; Number of test samples: 84</span></span>
<span><span class="co">#&gt; Number of analytes: 30</span></span></code></pre>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># display a sample of the dataframe</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span><span class="va">plate</span><span class="op">)</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   Spike_6P      ME</span></span>
<span><span class="co">#&gt; 1    25.13   32.29</span></span>
<span><span class="co">#&gt; 2 13681.42 1352.75</span></span></code></pre>
<p>For the complete list of parameters and their description, please
refer to the <code>read_luminex_data</code> documentation.</p>
</div>
<div class="section level2">
<h2 id="pvstatem-as-an-mba-data-reader">PvSTATEM as an MBA data reader<a class="anchor" aria-label="anchor" href="#pvstatem-as-an-mba-data-reader"></a>
</h2>
<p>The <code>read_luminex_data</code> function enforces additional
constraints on the raw MBA data, such as the sample names following a
specific pattern to be correctly classified. If your data does not
follow our standards but you still want to use our parsers, you can
directly use the format-specific functions here: -
<code>read_xponent_format</code> -
<code>read_intelliflex_format</code></p>
<p>For example, let us read the xPONENT file above using the
<code>read_xponent_format</code>.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_xponent_format.html">read_xponent_format</a></span><span class="op">(</span><span class="va">plate_filepath</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/typeof.html" class="external-link">typeof</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "list"</span></span></code></pre>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">output</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; [1] "ProgramMetadata" "Header"          "Samples"         "Min Events"     </span></span>
<span><span class="co">#&gt; [5] "Per Bead"        "Results"         "CRC32"</span></span></code></pre>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">output</span><span class="op">[[</span><span class="st">"ProgramMetadata"</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt; $Program</span></span>
<span><span class="co">#&gt; [1] "xPONENT"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Build</span></span>
<span><span class="co">#&gt; [1] "4.2.1705.0"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Date</span></span>
<span><span class="co">#&gt; [1] "05/11/2022"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Time</span></span>
<span><span class="co">#&gt; [1] "4:45 PM"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $SN</span></span>
<span><span class="co">#&gt; [1] "MAGPX16145704"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $Batch</span></span>
<span><span class="co">#&gt; [1] "IgG_CovidOiseS4_30plex_plate5_20220511"</span></span></code></pre>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">output</span><span class="op">[[</span><span class="st">"Results"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;  [1] "Median"                       "Net MFI"                     </span></span>
<span><span class="co">#&gt;  [3] "Count"                        "Avg Net MFI"                 </span></span>
<span><span class="co">#&gt;  [5] "Mean"                         "%CV"                         </span></span>
<span><span class="co">#&gt;  [7] "Peak"                         "Std Dev"                     </span></span>
<span><span class="co">#&gt;  [9] "Trimmed Count"                "Trimmed Mean"                </span></span>
<span><span class="co">#&gt; [11] "Trimmed % CV of Microspheres" "Trimmed Peak"                </span></span>
<span><span class="co">#&gt; [13] "Trimmed Standard Deviation"   "Units"                       </span></span>
<span><span class="co">#&gt; [15] "Per Bead Count"               "Acquisition Time"            </span></span>
<span><span class="co">#&gt; [17] "Dilution Factor"              "Analysis Types"              </span></span>
<span><span class="co">#&gt; [19] "Audit Logs"                   "Warnings/Errors"</span></span></code></pre>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># sample of the data</span></span>
<span><span class="va">output</span><span class="op">[[</span><span class="st">"Results"</span><span class="op">]</span><span class="op">]</span><span class="op">[[</span><span class="st">"Median"</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code><span><span class="co">#&gt;   Location Sample Spike_6P</span></span>
<span><span class="co">#&gt; 1  1(1,A1)      B       24</span></span>
<span><span class="co">#&gt; 2  2(1,A2)      S    14256</span></span></code></pre>
<p>We can see now that the output of that function is a nested list
containing the information parsed from the file. As the structure of the
output may be different across the formats, this is not the recommended
way to read the data, but the package is open enough to allow you to do
so.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tymoteusz Kwiecinski, Jakub Grzywaczewski, Mateusz Nizwantowski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>

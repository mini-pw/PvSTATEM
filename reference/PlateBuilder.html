<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>PlateBuilder — PlateBuilder • PvSTATEM</title><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="PlateBuilder — PlateBuilder"><meta name="description" content="This class helps creating the Plate object.
It is used to store the data and validate the final fields."><meta property="og:description" content="This class helps creating the Plate object.
It is used to store the data and validate the final fields."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">PvSTATEM</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/example_script.html">Basic PvSTATEM functionalities</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/mini-pw/PvSTATEM/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>PlateBuilder</h1>
      <small class="dont-index">Source: <a href="https://github.com/mini-pw/PvSTATEM/blob/main/R/classes-plate_builder.R" class="external-link"><code>R/classes-plate_builder.R</code></a></small>
      <div class="d-none name"><code>PlateBuilder.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This class helps creating the Plate object.
It is used to store the data and validate the final fields.</p>
    </div>


    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>layout_as_vector</code></dt>
<dd><p>Print the layout associated with the plate as a flattened vector of values.</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-PlateBuilder-new"><code>PlateBuilder$new()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-set_sample_locations"><code>PlateBuilder$set_sample_locations()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-set_dilutions"><code>PlateBuilder$set_dilutions()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-set_sample_types"><code>PlateBuilder$set_sample_types()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-set_sample_names"><code>PlateBuilder$set_sample_names()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-set_plate_datetime"><code>PlateBuilder$set_plate_datetime()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-set_data"><code>PlateBuilder$set_data()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-set_default_data_type"><code>PlateBuilder$set_default_data_type()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-set_batch_info"><code>PlateBuilder$set_batch_info()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-set_plate_name"><code>PlateBuilder$set_plate_name()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-set_layout"><code>PlateBuilder$set_layout()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-build"><code>PlateBuilder$build()</code></a></p></li>
<li><p><a href="#method-PlateBuilder-clone"><code>PlateBuilder$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-PlateBuilder-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>Initialize the PlateBuilder object</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/PlateBuilder.html">PlateBuilder</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span><span class="va">sample_names</span>, <span class="va">analyte_names</span>, batch_name <span class="op">=</span> <span class="st">""</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>sample_names</code></dt>
<dd><ul><li><p>vector of sample names measured during
an examination in the same order as in the data</p></li>
</ul></dd>


<dt><code>analyte_names</code></dt>
<dd><ul><li><p>vector of analytes names measured during
an examination in the same order as in the data</p></li>
</ul></dd>


<dt><code>batch_name</code></dt>
<dd><ul><li><p>name of the batch during which the plate was examined
obtained from the plate info. An optional parameter, by default set to
<code>""</code> - an empty string.</p></li>
</ul></dd>


<dt><code>verbose</code></dt>
<dd><ul><li><p>logical value indicating whether to print additional
information. This parameter is stored as a private attribute of the object
and reused in other methods</p></li>
</ul></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PlateBuilder-set_sample_locations"></a><div class="section">
<h3 id="method-set-sample-locations-">Method <code>set_sample_locations()</code><a class="anchor" aria-label="anchor" href="#method-set-sample-locations-"></a></h3>
<p>Set the sample types used during the examination</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">set_sample_locations</span><span class="op">(</span><span class="va">sample_locations</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>sample_locations</code></dt>
<dd><p>vector of sample locations pretty name ie. A1, B2</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PlateBuilder-set_dilutions"></a><div class="section">
<h3 id="method-set-dilutions-">Method <code>set_dilutions()</code><a class="anchor" aria-label="anchor" href="#method-set-dilutions-"></a></h3>
<p>Extract and set the dilutions from layout, sample names or use a provided vector of values.
The provided vector should be the same length as the number of samples
and should contain dilution factors saved as strings</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">set_dilutions</span><span class="op">(</span>use_layout_dilutions <span class="op">=</span> <span class="cn">TRUE</span>, values <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>use_layout_dilutions</code></dt>
<dd><p>logical value indicating whether to use names
extracted from layout files to extract dilutions. If set to <code>FALSE</code> the
function uses the sample names as a source for dilution</p></dd>


<dt><code>values</code></dt>
<dd><p>a vector of dilutions to overwrite the extraction process</p>
<p>Set and extract sample types from the sample names.
Optionally use the layout file to extract the sample types</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PlateBuilder-set_sample_types"></a><div class="section">
<h3 id="method-set-sample-types-">Method <code>set_sample_types()</code><a class="anchor" aria-label="anchor" href="#method-set-sample-types-"></a></h3>

<div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">set_sample_types</span><span class="op">(</span>use_layout_types <span class="op">=</span> <span class="cn">TRUE</span>, values <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>use_layout_types</code></dt>
<dd><p>logical value indicating whether to use names extracted from layout files
to extract sample types</p></dd>


<dt><code>values</code></dt>
<dd><p>a vector of sample types to overwrite the extraction process</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PlateBuilder-set_sample_names"></a><div class="section">
<h3 id="method-set-sample-names-">Method <code>set_sample_names()</code><a class="anchor" aria-label="anchor" href="#method-set-sample-names-"></a></h3>
<p>Set the sample names used during the examination. If the layout is provided,
extract the sample names from the layout file. Otherwise, uses the original sample names from the Luminex file</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">set_sample_names</span><span class="op">(</span>use_layout_sample_names <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>use_layout_sample_names</code></dt>
<dd><p>logical value indicating whether
to use names extracted from layout files. If set to false, this function only checks if the sample names are provided in the plate</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PlateBuilder-set_plate_datetime"></a><div class="section">
<h3 id="method-set-plate-datetime-">Method <code>set_plate_datetime()</code><a class="anchor" aria-label="anchor" href="#method-set-plate-datetime-"></a></h3>
<p>Set the plate datetime for the plate</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">set_plate_datetime</span><span class="op">(</span><span class="va">plate_datetime</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-5">Arguments<a class="anchor" aria-label="anchor" href="#arguments-5"></a></h4>
<p></p><div class="arguments"><dl><dt><code>plate_datetime</code></dt>
<dd><p>a POSIXct datetime object
representing the date and time of the examination</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PlateBuilder-set_data"></a><div class="section">
<h3 id="method-set-data-">Method <code>set_data()</code><a class="anchor" aria-label="anchor" href="#method-set-data-"></a></h3>
<p>Set the data used during the examination</p><div class="section">
<h4 id="usage-6">Usage<a class="anchor" aria-label="anchor" href="#usage-6"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">set_data</span><span class="op">(</span><span class="va">data</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-6">Arguments<a class="anchor" aria-label="anchor" href="#arguments-6"></a></h4>
<p></p><div class="arguments"><dl><dt><code>data</code></dt>
<dd><p>a named list of data frames containing information about
the samples and analytes. The list is named by the type of the data
e.g. <code>Median</code>, <code>Net MFI</code>, etc.
The data frames contain information about the samples and analytes
The rows are different measures, whereas the columns represent
different analytes
Example of how <code>data$Median</code> looks like:</p><table class="table table"><tr><td>Sample</td><td>Analyte1</td><td>Analyte2</td><td>Analyte3</td></tr><tr><td>Sample1</td><td>1.2</td><td>2.3</td><td>3.4</td></tr><tr><td>Sample2</td><td>4.5</td><td>5.6</td><td>6.7</td></tr><tr><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><td>Sample96</td><td>7.8</td><td>8.9</td><td>9.0</td></tr></table></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PlateBuilder-set_default_data_type"></a><div class="section">
<h3 id="method-set-default-data-type-">Method <code>set_default_data_type()</code><a class="anchor" aria-label="anchor" href="#method-set-default-data-type-"></a></h3>
<p>Set the data type used for calculations</p><div class="section">
<h4 id="usage-7">Usage<a class="anchor" aria-label="anchor" href="#usage-7"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">set_default_data_type</span><span class="op">(</span>data_type <span class="op">=</span> <span class="st">"Median"</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-7">Arguments<a class="anchor" aria-label="anchor" href="#arguments-7"></a></h4>
<p></p><div class="arguments"><dl><dt><code>data_type</code></dt>
<dd><p>a character value representing the type of data
that is currently used for calculations. By default, it is set to Median</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PlateBuilder-set_batch_info"></a><div class="section">
<h3 id="method-set-batch-info-">Method <code>set_batch_info()</code><a class="anchor" aria-label="anchor" href="#method-set-batch-info-"></a></h3>
<p>Set the batch info for the plate</p><div class="section">
<h4 id="usage-8">Usage<a class="anchor" aria-label="anchor" href="#usage-8"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">set_batch_info</span><span class="op">(</span><span class="va">batch_info</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-8">Arguments<a class="anchor" aria-label="anchor" href="#arguments-8"></a></h4>
<p></p><div class="arguments"><dl><dt><code>batch_info</code></dt>
<dd><p>a raw list containing metadata about
the plate read from the Luminex file</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PlateBuilder-set_plate_name"></a><div class="section">
<h3 id="method-set-plate-name-">Method <code>set_plate_name()</code><a class="anchor" aria-label="anchor" href="#method-set-plate-name-"></a></h3>
<p>Set the plate name for the plate.
The plate name is extracted from the filepath</p><div class="section">
<h4 id="usage-9">Usage<a class="anchor" aria-label="anchor" href="#usage-9"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">set_plate_name</span><span class="op">(</span><span class="va">file_path</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-PlateBuilder-set_layout"></a><div class="section">
<h3 id="method-set-layout-">Method <code>set_layout()</code><a class="anchor" aria-label="anchor" href="#method-set-layout-"></a></h3>
<p>Set the layout matrix for the plate. This function performs basic validation</p><ul><li><p>verifies if the plate is a matrix of shape 8x12 with 96 wells</p></li>
</ul><div class="section">
<h4 id="usage-10">Usage<a class="anchor" aria-label="anchor" href="#usage-10"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">set_layout</span><span class="op">(</span><span class="va">layout_matrix</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-9">Arguments<a class="anchor" aria-label="anchor" href="#arguments-9"></a></h4>
<p></p><div class="arguments"><dl><dt><code>layout_matrix</code></dt>
<dd><p>a matrix containing information about the sample names. dilutions, etc.</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-PlateBuilder-build"></a><div class="section">
<h3 id="method-build-">Method <code>build()</code><a class="anchor" aria-label="anchor" href="#method-build-"></a></h3>
<p>Create a Plate object from the PlateBuilder object</p><div class="section">
<h4 id="usage-11">Usage<a class="anchor" aria-label="anchor" href="#usage-11"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">build</span><span class="op">(</span>validate <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-PlateBuilder-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-12">Usage<a class="anchor" aria-label="anchor" href="#usage-12"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">PlateBuilder</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-10">Arguments<a class="anchor" aria-label="anchor" href="#arguments-10"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Tymoteusz Kwiecinski, Jakub Grzywaczewski, Mateusz Nizwantowski.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

